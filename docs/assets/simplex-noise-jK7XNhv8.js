const G1=.3333333333333333,x=1/6,b1=(Math.sqrt(5)-1)/4,i=(5-Math.sqrt(5))/20,E=S=>Math.floor(S)|0,x1=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),r1=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function h1(S=Math.random){const t=A1(S),o=new Float64Array(t).map(f=>x1[f%12*3]),n=new Float64Array(t).map(f=>x1[f%12*3+1]),p=new Float64Array(t).map(f=>x1[f%12*3+2]);return function(y,D,q){let N,X,Y,Z;const P=(y+D+q)*G1,T=E(y+P),U=E(D+P),A=E(q+P),W=(T+U+A)*x,O=T-W,Q=U-W,R=A-W,m=y-O,w=D-Q,k=q-R;let u,z,c,e,r,l;m>=w?w>=k?(u=1,z=0,c=0,e=1,r=1,l=0):m>=k?(u=1,z=0,c=0,e=1,r=0,l=1):(u=0,z=0,c=1,e=1,r=0,l=1):w<k?(u=0,z=0,c=1,e=0,r=1,l=1):m<k?(u=0,z=1,c=0,e=0,r=1,l=1):(u=0,z=1,c=0,e=1,r=1,l=0);const d=m-u+x,F=w-z+x,g=k-c+x,j=m-e+2*x,H=w-r+2*x,I=k-l+2*x,J=m-1+3*x,K=w-1+3*x,L=k-1+3*x,v=T&255,B=U&255,C=A&255;let G=.6-m*m-w*w-k*k;if(G<0)N=0;else{const a=v+t[B+t[C]];G*=G,N=G*G*(o[a]*m+n[a]*w+p[a]*k)}let b=.6-d*d-F*F-g*g;if(b<0)X=0;else{const a=v+u+t[B+z+t[C+c]];b*=b,X=b*b*(o[a]*d+n[a]*F+p[a]*g)}let h=.6-j*j-H*H-I*I;if(h<0)Y=0;else{const a=v+e+t[B+r+t[C+l]];h*=h,Y=h*h*(o[a]*j+n[a]*H+p[a]*I)}let M=.6-J*J-K*K-L*L;if(M<0)Z=0;else{const a=v+1+t[B+1+t[C+1]];M*=M,Z=M*M*(o[a]*J+n[a]*K+p[a]*L)}return 32*(N+X+Y+Z)}}function M1(S=Math.random){const t=A1(S),o=new Float64Array(t).map(y=>r1[y%32*4]),n=new Float64Array(t).map(y=>r1[y%32*4+1]),p=new Float64Array(t).map(y=>r1[y%32*4+2]),f=new Float64Array(t).map(y=>r1[y%32*4+3]);return function(D,q,N,X){let Y,Z,P,T,U;const A=(D+q+N+X)*b1,W=E(D+A),O=E(q+A),Q=E(N+A),R=E(X+A),m=(W+O+Q+R)*i,w=W-m,k=O-m,u=Q-m,z=R-m,c=D-w,e=q-k,r=N-u,l=X-z;let d=0,F=0,g=0,j=0;c>e?d++:F++,c>r?d++:g++,c>l?d++:j++,e>r?F++:g++,e>l?F++:j++,r>l?g++:j++;const H=d>=3?1:0,I=F>=3?1:0,J=g>=3?1:0,K=j>=3?1:0,L=d>=2?1:0,v=F>=2?1:0,B=g>=2?1:0,C=j>=2?1:0,G=d>=1?1:0,b=F>=1?1:0,h=g>=1?1:0,M=j>=1?1:0,a=c-H+i,l1=e-I+i,a1=r-J+i,i1=l-K+i,f1=c-L+2*i,m1=e-v+2*i,p1=r-B+2*i,y1=l-C+2*i,k1=c-G+3*i,w1=e-b+3*i,u1=r-h+3*i,z1=l-M+3*i,d1=c-1+4*i,F1=e-1+4*i,g1=r-1+4*i,j1=l-1+4*i,V=W&255,_=O&255,$=Q&255,t1=R&255;let n1=.6-c*c-e*e-r*r-l*l;if(n1<0)Y=0;else{const s=V+t[_+t[$+t[t1]]];n1*=n1,Y=n1*n1*(o[s]*c+n[s]*e+p[s]*r+f[s]*l)}let s1=.6-a*a-l1*l1-a1*a1-i1*i1;if(s1<0)Z=0;else{const s=V+H+t[_+I+t[$+J+t[t1+K]]];s1*=s1,Z=s1*s1*(o[s]*a+n[s]*l1+p[s]*a1+f[s]*i1)}let o1=.6-f1*f1-m1*m1-p1*p1-y1*y1;if(o1<0)P=0;else{const s=V+L+t[_+v+t[$+B+t[t1+C]]];o1*=o1,P=o1*o1*(o[s]*f1+n[s]*m1+p[s]*p1+f[s]*y1)}let c1=.6-k1*k1-w1*w1-u1*u1-z1*z1;if(c1<0)T=0;else{const s=V+G+t[_+b+t[$+h+t[t1+M]]];c1*=c1,T=c1*c1*(o[s]*k1+n[s]*w1+p[s]*u1+f[s]*z1)}let e1=.6-d1*d1-F1*F1-g1*g1-j1*j1;if(e1<0)U=0;else{const s=V+1+t[_+1+t[$+1+t[t1+1]]];e1*=e1,U=e1*e1*(o[s]*d1+n[s]*F1+p[s]*g1+f[s]*j1)}return 27*(Y+Z+P+T+U)}}function A1(S){const o=new Uint8Array(512);for(let n=0;n<512/2;n++)o[n]=n;for(let n=0;n<512/2-1;n++){const p=n+~~(S()*(256-n)),f=o[n];o[n]=o[p],o[p]=f}for(let n=256;n<512;n++)o[n]=o[n-256];return o}export{h1 as a,M1 as c};
